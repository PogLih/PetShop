<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
	xmlns:sec="http://www.thymeleaf.org/thymeleaf-extras-springsecurity3"
	xmlns:layout="http://www.w3.org/1999/xhtml"
	layout:decorate="~{fragments/user/main_layout}">
<head>
<meta charset="UTF-8">
<title>Shop</title>
</head>
<body>
	<div layout:fragment="content" class="main main-raised">

		<!-- section -->
		<div class="section">
		
		<div class="alert alert-success text-center" role="alert" th:text="${success}" th:if="${success}"></div>
		
			
			<div class="container">
				<h2 class="section-title">Tìm kiếm bằng bộ lọc</h2>
				<div class="row">
					
					<div class="col-md-12">
						<div class="row">
							<div class="col-md-4" th:each="pr : ${product}"
								>

								<div class="card card-product card-plain no-shadow"
									data-colored-shadow="false">
									<div class="card-header card-header-image">
										<a href="#"> <img
											th:src="@{'../assets/img/' + ${pr.images}}" alt="..."
											style="min-height: 320px; max-height: 320px">
										</a>
									</div>
									<div class="card-body">
										<a th:href="@{'/sanpham/' + ${pr.id}}">
											<h4 class="card-title" th:text="${pr.name}"></h4>
										</a>
										<p class="description"
											th:text="${#strings.abbreviate(pr.description,100)}"></p>
									</div>
									<div class="card-footer justify-content-between">
										<div class="price-container">
											<span class="price price-new"
												th:text="${#numbers.formatDecimal(pr.price, 3, 'POINT', 0, 'POINT')}"></span><sup>
												&#8363;</sup>
										</div>
										<a class="btn btn-danger btn-round" type="submit"
											th:href="${'/cart/buy/'+pr.id}">Add to Cart</a>
									</div>
								</div>

								<!-- end card -->
							</div>

						</div>
					</div>
					<div style="margin-left: 200px">
						Tổng [[${totalItemsInpage}]] trên [[${totalItems}]] sản phẩm -
						Trang [[${currentpage}]] / [[${totalPages}]] : &nbsp; <a
							th:if="${currentpage > 1}" th:href="@{/shop-page/1}">Đầu
							trang</a> <span th:unless="${currentpage > 1}">Đầu trang</span>
						&nbsp; <a th:if="${currentpage > 1}"
							th:href="@{'/shop-page/' + ${currentpage - 1}}">Trang trước</a> <span
							th:unless="${currentpage > 1}">Trang trước</span> &nbsp; <span
							th:each="i: ${#numbers.sequence(1, totalPages)}"> <span>
								&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <a th:if="${i != currentpage}"
								th:href="@{'/shop-page/' + ${i}}">[[${i}]] </a> <span
								th:unless="${i != currentpage}">[[${i}]]</span>
						</span>

						</span> &nbsp; &nbsp; <a th:if="${currentpage < totalPages}"
							th:href="@{'/shop-page/' + ${currentpage + 1}}">Trang sau</a> <span
							th:unless="${currentpage < totalPages}">Trang sau</span> &nbsp; <a
							th:if="${currentpage < totalPages}"
							th:href="@{'/shop-page/' + ${totalPages}}">Trang cuối</a> <span
							th:unless="${currentpage < totalPages}">Trang cuối</span>
					</div>
				</div>
				<br>

			</div>
		</div>
		<!-- section -->
	</div>

</body>
</html>